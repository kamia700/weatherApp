(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{2:function(e,t,a){e.exports={visually__hidden:"Navbar_visually__hidden__1gaaT",menu__wrap:"Navbar_menu__wrap__14jN5",menu:"Navbar_menu__2e57V",form:"Navbar_form__VWdS4",form__OKbtn:"Navbar_form__OKbtn__-zuJn",form__input:"Navbar_form__input__2vdhl",form__changes:"Navbar_form__changes__3ez_c",form__location:"Navbar_form__location__2utdc",switch:"Navbar_switch__3yPoA",switch__wrap:"Navbar_switch__wrap__ekP1L",switch__Cbtn:"Navbar_switch__Cbtn__JYOv5",switch__Fbtn:"Navbar_switch__Fbtn__cn90M"}},27:function(e,t,a){},4:function(e,t,a){e.exports={info:"InfoBar_info__2sF46",info__block:"InfoBar_info__block__3Xddc"}},47:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),c=a(18),i=a.n(c),r=(a(27),a(5)),o=a(19),h=a(20),l=a(22),d=a(21),_=a(6),u=a.n(_),j=(a(47),a(7)),p=a.n(j),b=a(0);function m(e){var t=e.weather,a=t.temperature,n=t.description,s="http://openweathermap.org/img/wn/"+t.img+"@2x.png";return Object(b.jsx)("div",{children:Object(b.jsx)("section",{className:p.a.weather,children:Object(b.jsxs)("div",{className:p.a.weather__temp,children:[Object(b.jsxs)("div",{className:p.a.weather__title,children:[Object(b.jsx)("img",{className:"mainImg",src:s,alt:"weather-img"}),Object(b.jsxs)("span",{children:[Math.round(a),Object(b.jsx)("sup",{children:"o"})]})]}),Object(b.jsx)("p",{children:n})]})})})}var w=a(2),f=a.n(w);function v(e){var t=e.weather,a=t.temperature,n=t.location;return Object(b.jsx)("div",{className:f.a.menu__wrap,children:Object(b.jsxs)("nav",{className:f.a.menu,children:[Object(b.jsxs)("form",{className:f.a.form,onSubmit:function(t){e.changeWeather(t)},children:[Object(b.jsx)("label",{className:f.a.visually__hidden,children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430"}),Object(b.jsx)("input",{className:f.a.form__input,placeholder:n||"",onChange:function(t){return e.changeRegion(t)},autoComplete:"on"}),Object(b.jsx)("button",{type:"submit",className:f.a.form__OKbtn,children:"OK"}),Object(b.jsxs)("div",{className:f.a.form__changes,children:[Object(b.jsx)("p",{children:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0433\u043e\u0440\u043e\u0434"}),Object(b.jsx)("p",{className:f.a.form__location,children:"\u041c\u043e\u0435 \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435"})]})]}),Object(b.jsxs)("div",{className:f.a.switch,children:[Object(b.jsx)("span",{children:Object(b.jsx)("sup",{children:"o"})}),Object(b.jsxs)("div",{className:f.a.switch__wrap,children:[Object(b.jsx)("button",{id:"Cbtn",className:f.a.switch__Cbtn+" active",onClick:function(t){e.handleClick(t.target.id),e.changeUnits("metric",a)},children:"C"}),Object(b.jsx)("button",{id:"Fbtn",className:f.a.switch__Fbtn,onClick:function(t){e.handleClick(t.target.id),e.changeUnits("imperial",a)},children:"F"})]})]})]})})}var O=a(4),g=a.n(O);function x(e){var t=e.weather,a=t.humidity,n=t.pressure,s=t.wind,c=t.wind_dir,i=Math.floor(c/22.5+.5)%8;return Object(b.jsx)("div",{children:Object(b.jsxs)("section",{className:g.a.info,children:[Object(b.jsxs)("div",{className:g.a.info__block,children:[Object(b.jsx)("p",{children:"\u0412\u0435\u0442\u0435\u0440"}),Object(b.jsxs)("span",{children:[Math.round(s)," \u043c/\u0441, ",["\u0441\u0435\u0432\u0435\u0440\u043d\u044b\u0439","\u0441\u0435\u0432\u0435\u0440\u043e-\u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439","\u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439","\u044e\u0433\u043e-\u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439","\u044e\u0436\u043d\u044b\u0439","\u044e\u0433\u043e-\u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439","\u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439","\u0441\u0435\u0432\u0435\u0440\u043e-\u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439"][i]]})]}),Object(b.jsxs)("div",{className:g.a.info__block,children:[Object(b.jsx)("p",{children:"\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435"}),Object(b.jsxs)("span",{children:[n," \u043c\u043c \u0440\u0442. \u0441\u0442."]})]}),Object(b.jsxs)("div",{className:g.a.info__block,children:[Object(b.jsx)("p",{children:"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c"}),Object(b.jsxs)("span",{children:[a,"%"]})]}),Object(b.jsxs)("div",{className:g.a.info__block,children:[Object(b.jsx)("p",{children:"\u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0436\u0434\u044f"}),Object(b.jsx)("span",{children:"10%"})]})]})})}var N="27ba8c742a54e5d3e7e1e27f3a0e5fa4",C={coords:{latitude:51,longitude:-.12},weather:{},inputData:"hi",units:"metric",activeClassBtn:"Cbtn"},k=function(e){return{location:e.data.name,wind:e.data.wind.speed,wind_dir:e.data.wind.deg,temperature:e.data.main.temp,description:e.data.weather[0].description,img:e.data.weather[0].icon,humidity:e.data.main.humidity,pressure:e.data.main.pressure}},y=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).changeWeather=function(t){t.preventDefault(),u.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(e.state.inputData,"&lang=ru&appid=").concat(N,"&units=").concat(e.state.units)).then((function(t){e.setState({weather:k(t)})})).catch((function(t){200!==t.response.status&&(console.log(e.state.weather),e.setState({weather:e.state.weather}),alert("Ooops, the city does not exist! Please, try again"))}))},e.changeRegion=function(t){t.preventDefault(),e.setState({inputData:t.target.value})},e.changeUnits=function(t,a){if(e.state.units!==t)switch(e.setState({units:t}),t){case"imperial":var n=Math.round(1.8*a+32);e.setState({weather:Object(r.a)(Object(r.a)({},e.state.weather),{},{temperature:n})});break;case"metric":var s=Math.round((a-32)/1.8);e.setState({weather:Object(r.a)(Object(r.a)({},e.state.weather),{},{temperature:s})});break;default:t="metric"}},e.handleClick=function(t){(e.setState({activeClassBtn:t}),e.state.activeClassBtn!==t)&&(document.getElementById(t).classList.add("active"),document.getElementById(e.state.activeClassBtn).classList.remove("active"))},e.state=C,e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){var a={latitude:t.coords.latitude,longitude:t.coords.longitude};e.setState({coords:a}),u.a.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e.state.coords.latitude,"&lon=").concat(e.state.coords.longitude,"&lang=ru&appid=").concat(N,"&units=metric")).then((function(t){e.setState({weather:k(t)})}))}),(function(t){t.code===t.PERMISSION_DENIED&&console.log("User denied the request for Geolocation:-("),u.a.get("https://api.openweathermap.org/data/2.5/weather?q=Omsk&lang=ru&appid=".concat(N,"&units=metric")).then((function(t){e.setState({weather:k(t)})}))})):console.log("Geolocation is not supported by this browser.")}},{key:"render",value:function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)("div",{className:"wrap",children:[Object(b.jsx)(v,{handleClick:this.handleClick,changeWeather:this.changeWeather,changeRegion:this.changeRegion,changeUnits:this.changeUnits,weather:this.state.weather,units:this.state.units,activeClassBtn:this.state.activeClassBtn}),Object(b.jsx)(m,{weather:this.state.weather}),Object(b.jsx)(x,{weather:this.state.weather})]})})}}]),a}(s.a.Component);i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(y,{})}),document.getElementById("root"))},7:function(e,t,a){e.exports={weather__temp:"DisplayWeather_weather__temp__3YtSc",weather__title:"DisplayWeather_weather__title__3zuC8"}}},[[49,1,2]]]);
//# sourceMappingURL=main.8e98d1d2.chunk.js.map