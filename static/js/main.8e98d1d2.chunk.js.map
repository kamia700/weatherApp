{"version":3,"sources":["components/Navbar.module.css","components/InfoBar.module.css","components/DisplayWeather.js","components/Navbar.js","components/InfoBar.js","App.js","index.js","components/DisplayWeather.module.css"],"names":["module","exports","DisplayWeather","props","weather","temperature","description","iconurl","img","className","style","weather__temp","weather__title","src","alt","Math","round","Navbar","location","menu__wrap","menu","form","onSubmit","e","changeWeather","visually__hidden","form__input","placeholder","onChange","changeRegion","autoComplete","type","form__OKbtn","form__changes","form__location","switch","switch__wrap","id","switch__Cbtn","onClick","handleClick","target","changeUnits","switch__Fbtn","InfoBar","humidity","pressure","wind","wind_dir","arrayPosition","floor","info","info__block","API_KEY","initialState","coords","latitude","longitude","inputData","units","activeClassBtn","setData","response","data","name","speed","deg","main","temp","icon","App","evt","preventDefault","Axios","get","state","then","setState","catch","error","status","console","log","alert","value","unit","fahrenheit","celsius","document","getElementById","classList","add","remove","navigator","geolocation","getCurrentPosition","position","currentCoords","code","PERMISSION_DENIED","this","React","Component","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.8e98d1d2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"visually__hidden\":\"Navbar_visually__hidden__1gaaT\",\"menu__wrap\":\"Navbar_menu__wrap__14jN5\",\"menu\":\"Navbar_menu__2e57V\",\"form\":\"Navbar_form__VWdS4\",\"form__OKbtn\":\"Navbar_form__OKbtn__-zuJn\",\"form__input\":\"Navbar_form__input__2vdhl\",\"form__changes\":\"Navbar_form__changes__3ez_c\",\"form__location\":\"Navbar_form__location__2utdc\",\"switch\":\"Navbar_switch__3yPoA\",\"switch__wrap\":\"Navbar_switch__wrap__ekP1L\",\"switch__Cbtn\":\"Navbar_switch__Cbtn__JYOv5\",\"switch__Fbtn\":\"Navbar_switch__Fbtn__cn90M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"InfoBar_info__2sF46\",\"info__block\":\"InfoBar_info__block__3Xddc\"};","import React from 'react';\r\nimport style from'./DisplayWeather.module.css';\r\n\r\nexport default function DisplayWeather (props) {\r\n  const { temperature, description, img } = props.weather;\r\n  let iconurl = \"http://openweathermap.org/img/wn/\" + img + \"@2x.png\";\r\n\r\n  return (\r\n    <div>\r\n      <section className={style.weather}>\r\n        <div className={style.weather__temp}>\r\n          <div className={style.weather__title}>\r\n            <img className=\"mainImg\" src={iconurl} alt=\"weather-img\" />\r\n            <span>{Math.round(temperature)}<sup>o</sup></span>\r\n          </div>\r\n          <p>{description}</p> \r\n        </div>\r\n      </section>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport style from'./Navbar.module.css';\r\n\r\nexport default function Navbar (props) {\r\n  const { temperature, location } = props.weather;\r\n  return (\r\n    <div className={style.menu__wrap}>\r\n      <nav className={style.menu}>\r\n        <form className={style.form} onSubmit={(e) => { props.changeWeather(e) }}>\r\n          <label className={style.visually__hidden}>Название города</label>\r\n          <input className={style.form__input} placeholder={location || ''} onChange={(e) => props.changeRegion(e)} autoComplete=\"on\" />\r\n          <button type=\"submit\" className={style.form__OKbtn} >OK</button>\r\n          <div className={style.form__changes}>\r\n            <p>Сменить город</p>\r\n            <p className={style.form__location}>\r\n              Мое местоположение</p>\r\n          </div>\r\n        </form>\r\n\r\n        <div className={style.switch}>\r\n          <span><sup>o</sup></span>\r\n          <div className={style.switch__wrap}>\r\n            <button id='Cbtn' className={style.switch__Cbtn  + ' active'} onClick={(e) => { props.handleClick(e.target.id); props.changeUnits('metric', temperature)} }>C</button>\r\n            <button id='Fbtn' className={style.switch__Fbtn } onClick={(e) => { props.handleClick(e.target.id); props.changeUnits('imperial', temperature)} }>F</button> \r\n          </div>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  )\r\n}\r\n\r\n","import React from 'react';\r\nimport style from'./InfoBar.module.css';\r\n\r\nexport default function InfoBar (props) {\r\n  const { humidity, pressure, wind, wind_dir } = props.weather;\r\n  const compassPoints = [\"северный\", \"северо-восточный\", \"восточный\", \"юго-восточный\", \"южный\", \"юго-западный\",\r\n                          \"западный\", \"северо-западный\"];\r\n  let rawPosition = Math.floor((wind_dir / 22.5) + 0.5);\r\n  let arrayPosition = (rawPosition % 8);\r\n\r\n  return (\r\n    <div>\r\n    <section className={style.info}>\r\n        <div className={style.info__block}>\r\n          <p>Ветер</p>\r\n          <span>{Math.round(wind)} м/с, {compassPoints[arrayPosition]}</span>\r\n        </div>\r\n        <div className={style.info__block}>\r\n          <p>Давление</p>\r\n          <span>{pressure} мм рт. ст.</span>\r\n        </div>\r\n        <div className={style.info__block}>\r\n          <p>Влажность</p>\r\n          <span>{humidity}%</span>\r\n        </div>\r\n        <div className={style.info__block}>\r\n          <p>Вероятность дождя</p>\r\n          <span>10%</span>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n\r\n","import React from 'react';\r\nimport Axios from 'axios';\r\nimport './App.css';\r\nimport DisplayWeather from './components/DisplayWeather.js';\r\nimport Navbar from './components/Navbar.js';\r\nimport InfoBar from './components/InfoBar.js';\r\n\r\nconst API_KEY = '27ba8c742a54e5d3e7e1e27f3a0e5fa4';\r\n\r\nconst initialState = {\r\n  coords: {\r\n    latitude: 51,\r\n    longitude: -0.12\r\n  },\r\n  weather: {},\r\n  inputData: 'hi',\r\n  units: 'metric',\r\n  activeClassBtn: 'Cbtn'\r\n} \r\n\r\nlet setData = (response) => {\r\n  let weatherData = {\r\n    location: response.data.name,\r\n    wind: response.data.wind.speed,\r\n    wind_dir: response.data.wind.deg,\r\n    temperature: response.data.main.temp,\r\n    description: response.data.weather[0].description,\r\n    img: response.data.weather[0].icon,\r\n    humidity: response.data.main.humidity,\r\n    pressure: response.data.main.pressure\r\n  };\r\n  return weatherData;\r\n} \r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = initialState;\r\n  }\r\n\r\n  componentDidMount() {    \r\n    // get device location\r\n    if(navigator.geolocation){\r\n      navigator.geolocation.getCurrentPosition((position) => {\r\n        let currentCoords = {\r\n          latitude: position.coords.latitude,\r\n          longitude: position.coords.longitude\r\n        };\r\n        this.setState({coords:currentCoords});\r\n        \r\n\r\n        //API call\r\n        Axios.get(`https://api.openweathermap.org/data/2.5/weather?lat=${this.state.coords.latitude}&lon=${this.state.coords.longitude}&lang=ru&appid=${API_KEY}&units=metric`).then(response => {\r\n          this.setState({ weather: setData(response)});\r\n        })\r\n        }, (error) => {\r\n          // runs when an error occurs or when you deny access\r\n          if (error.code === error.PERMISSION_DENIED) {\r\n            console.log(\"User denied the request for Geolocation:-(\");\r\n          }\r\n          Axios.get(`https://api.openweathermap.org/data/2.5/weather?q=Omsk&lang=ru&appid=${API_KEY}&units=metric`).then(response => {\r\n            this.setState({ weather: setData(response)});\r\n          })\r\n        }\r\n      );\r\n    } else {\r\n      console.log(\"Geolocation is not supported by this browser.\")      \r\n    }\r\n  }\r\n\r\n\r\n  changeWeather = (evt) => {\r\n    evt.preventDefault();\r\n\r\n    Axios.get(`https://api.openweathermap.org/data/2.5/weather?q=${this.state.inputData}&lang=ru&appid=${API_KEY}&units=${this.state.units}`).then(response => {\r\n      this.setState({ weather: setData(response)});\r\n    }).catch(error => {\r\n      if (error.response.status !== 200) {\r\n        console.log(this.state.weather)\r\n        this.setState({ \r\n          weather: this.state.weather\r\n        });\r\n        alert('Ooops, the city does not exist! Please, try again')\r\n      }\r\n    });\r\n  }\r\n\r\n  //track the input value\r\n  changeRegion = (e) => {\r\n    e.preventDefault();\r\n    this.setState({ inputData: e.target.value});\r\n  }  \r\n\r\n  //track units value\r\n  changeUnits=(unit,temp)=> {\r\n    if (this.state.units !== unit) {\r\n      this.setState({\r\n        units: unit\r\n      })\r\n\r\n    switch(unit) {\r\n      case 'imperial':\r\n        let fahrenheit = Math.round((temp * 1.8) + 32);\r\n        this.setState({\r\n          weather: {\r\n          ...this.state.weather,\r\n          temperature: fahrenheit\r\n          }\r\n        });\r\n        break;\r\n      case 'metric':\r\n        let celsius = Math.round(((temp - 32) / 1.8));\r\n        this.setState({\r\n          weather: {\r\n          ...this.state.weather,\r\n          temperature: celsius\r\n          }\r\n        });\r\n        break;\r\n      default:\r\n        unit='metric';\r\n      } \r\n    }\r\n  }\r\n\r\n  handleClick=(id) => {\r\n     this.setState({\r\n      activeClassBtn: id\r\n    })\r\n\r\n    if(this.state.activeClassBtn !== id) {\r\n      let el = document.getElementById(id);\r\n      el.classList.add('active');\r\n      let prevEl = document.getElementById(this.state.activeClassBtn);\r\n      prevEl.classList.remove('active');\r\n    } \r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div className=\"App\">\r\n        <div className={'wrap'}>\r\n          <Navbar handleClick={this.handleClick} changeWeather = {this.changeWeather} changeRegion={this.changeRegion} changeUnits={this.changeUnits} weather={this.state.weather} units={this.state.units} activeClassBtn={this.state.activeClassBtn}/>\r\n          <DisplayWeather weather={this.state.weather} />\r\n          <InfoBar weather={this.state.weather} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"weather__temp\":\"DisplayWeather_weather__temp__3YtSc\",\"weather__title\":\"DisplayWeather_weather__title__3zuC8\"};"],"sourceRoot":""}